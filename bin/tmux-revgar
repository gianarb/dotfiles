#!/bin/sh
PROJECT_NAME="revgar"

tmux has-session -t $PROJECT_NAME
tmux new-session -s $PROJECT_NAME -n "home" -d

tmux new-window -t $PROJECT_NAME:1 -c /home/gianarb/corley/revgar/api-broker
tmux rename-window -t $PROJECT_NAME:1 'vim-api'
tmux send-keys 'vim' 'C-m'

tmux new-window -t $PROJECT_NAME:2 -c /home/gianarb/corley/revgar/api-broker
tmux rename-window -t $PROJECT_NAME:2 'server-api'
tmux send-keys 'app/console server:run' 'C-m'

tmux new-window -t $PROJECT_NAME:3  -c /home/gianarb/corley/revgar/webapp-broker
tmux rename-window -t $PROJECT_NAME:3 'vim-ngjs'
tmux send-keys 'vim' 'C-m'

tmux new-window -t $PROJECT_NAME:4  -c /home/gianarb/corley/revgar/webapp-broker
tmux rename-window -t $PROJECT_NAME:4 'server-ngjs'
tmux send-keys 'php -S 0.0.0.0:8085 -t build' 'C-m'

tmux new-window -t $PROJECT_NAME:5  -c /home/gianarb/corley/revgar
tmux rename-window -t $PROJECT_NAME:5 'console'

tmux select-window -t $PROJECT_NAME:1
tmux -2 attach-session -t $PROJECT_NAME
